import streamlit as st
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import math
from scipy.optimize import fsolve
from scipy.special import factorial # –ò–º–ø–æ—Ä—Ç –æ—Å—Ç–∞–µ—Ç—Å—è –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã 24242424333
from io import StringIO

# --- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã ---
st.set_page_config(
    page_title="–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ1 | Jupyter & Python",
    page_icon="üìö",
    layout="wide"
)

# --- –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è (–¢–Å–ú–ù–ê–Ø –¢–ï–ú–ê) ---
st.markdown("""
<style>
    /* –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–Ω –∏ —Ç–µ–∫—Å—Ç */
    .stApp {
        background-color: #0E1117; /* –¢–µ–º–Ω—ã–π —Ñ–æ–Ω Streamlit –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
        color: #FAFAFA; /* –°–≤–µ—Ç–ª—ã–π —Ç–µ–∫—Å—Ç */
    }
    /* –ó–∞–≥–æ–ª–æ–≤–∫–∏ */
    h1, h2, h3 {
        color: #33A4FF; /* –Ø—Ä–∫–∏–π —Å–∏–Ω–∏–π –¥–ª—è –∞–∫—Ü–µ–Ω—Ç–∞ */
    }
    /* –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å */
    .css-1d391kg {
        background-color: #1F222B; /* –ß—É—Ç—å —Å–≤–µ—Ç–ª–µ–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ–æ–Ω–∞ */
        border-right: 2px solid #33A4FF;
    }
    /* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –±–ª–æ–∫–∏ */
    .stAlert {
        border-radius: 10px;
        border: 1px solid #33A4FF;
        background-color: #1F222B;
    }
    /* –¢–∞–±–ª–∏—Ü—ã Pandas */
    .dataframe-container {
        background-color: #0E1117;
    }
</style>
""", unsafe_allow_html=True)

# --- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç–∏–ª—è –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ Matplotlib (–¢–Å–ú–ù–ê–Ø –¢–ï–ú–ê) ---
plt.style.use('dark_background')
plt.rc('figure', facecolor='#0E1117', edgecolor='#33A4FF')
plt.rc('axes', facecolor='#1F222B', edgecolor='gray', labelcolor='white', titlecolor='#33A4FF')
plt.rc('xtick', color='white')
plt.rc('ytick', color='white')
plt.rc('legend', facecolor='#1F222B', edgecolor='gray')


# --- –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ó–∞–¥–∞–Ω–∏—è 2 ---
@st.cache_data
def get_time_in_microseconds():
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–æ–≤–∞—Ä—å —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞–º–∏ –≤ –º–∏–∫—Ä–æ—Å–µ–∫—É–Ω–¥–∞—Ö."""
    return {
        "–°–µ–∫—É–Ω–¥–∞": 1e6,
        "–ú–∏–Ω—É—Ç–∞": 60 * 1e6,
        "–ß–∞—Å": 3600 * 1e6,
        "–î–µ–Ω—å": 24 * 3600 * 1e6,
        "–ú–µ—Å—è—Ü": 30 * 24 * 3600 * 1e6,
        "–ì–æ–¥": 365 * 24 * 3600 * 1e6,
        "–í–µ–∫": 100 * 365 * 24 * 3600 * 1e6
    }

def solve_for_n(func_name, t):
    """–í—ã—á–∏—Å–ª—è–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ n –¥–ª—è –∑–∞–¥–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ f(n) –∏ –≤—Ä–µ–º–µ–Ω–∏ t (–≤ –º–∏–∫—Ä–æ—Å–µ–∫—É–Ω–¥–∞—Ö)."""
    try:
        if func_name == "lg n":
            # –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è
            return 2**t if t < 1023 else float('inf')
        elif func_name == "‚àön":
            return t**2
        elif func_name == "n":
            return t
        elif func_name == "n lg n":
            if t == 0: return 0
            func = lambda x: x * np.log2(x) - t if x > 0 else -t
            solution = fsolve(func, x0=t if t > 1 else 1)
            return solution[0]
        elif func_name == "n¬≤":
            return np.sqrt(t)
        elif func_name == "n¬≥":
            return np.cbrt(t)
        elif func_name == "2‚Åø":
            return np.log2(t) if t > 0 else 0
        elif func_name == "n!":
            if t < 1: return 0
            n = 1
            factorial_val = 1
            while factorial_val <= t:
                n += 1
                try:
                    factorial_val *= n
                except OverflowError:
                    return n - 1 # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏
            return n - 1
        else:
            return "N/A"
    except (ValueError, OverflowError):
        return float('inf') # –ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π


# --- –û–°–ù–û–í–ù–ê–Ø –ß–ê–°–¢–¨ –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø ---

st.sidebar.title("–ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ä–∞–±–æ—Ç–µ")
app_mode = st.sidebar.selectbox(
    "–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª:",
    [
        "–í–≤–µ–¥–µ–Ω–∏–µ –∏ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏",
        "–£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è: –û—Å–Ω–æ–≤—ã —Ä–∞–±–æ—Ç—ã",
        "–ó–∞–¥–∞–Ω–∏–µ 2: –ê–Ω–∞–ª–∏–∑ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤",
        "–ó–∞–¥–∞–Ω–∏–µ 4: –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Jupyter"
    ]
)

if app_mode == "–í–≤–µ–¥–µ–Ω–∏–µ –∏ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏":
    st.title("üìö –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ1: –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å Jupyter Notebook")
    st.info("–≠—Ç–æ—Ç Streamlit-–æ—Ç—á–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π –∏–∑ –º–µ—Ç–æ–¥–∏—á–µ—Å–∫–æ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è.")

    st.header("–¶–µ–ª–∏ —Ä–∞–±–æ—Ç—ã:")
    st.markdown("""
    - **–û—Å–≤–æ–∏—Ç—å –∑–∞–ø—É—Å–∫ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ** –±–ª–æ–∫–Ω–æ—Ç–æ–≤ Jupyter.
    - **–ü–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º** –±–ª–æ–∫–Ω–æ—Ç–æ–≤.
    - **–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ** —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Jupyter Notebook –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ Python.
    """)

    st.header("–ó–∞–¥–∞—á–∏ –∫ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç–µ:")
    st.markdown("""
    1.  **–í—ã–ø–æ–ª–Ω–∏—Ç—å –≤—Å–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è** –∏–∑ –¥–∞–Ω–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞.
    2.  **–ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É** –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π `n` –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ `f(n)` –∏ **–ø–æ—Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏** —ç—Ç–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π —Å –ø–æ–º–æ—â—å—é Matplotlib.
    3.  –ü—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –æ—Ç—á—ë—Ç –≤ –≤–∏–¥–µ —Ñ–∞–π–ª–∞ `.ipynb` —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –≤–∞—à–µ–π —Ä–∞–±–æ—Ç—ã. *(–í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –æ—Ç—á–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –≤ –≤–∏–¥–µ Streamlit-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)*.
    4.  **–†–∞—Å—Å–∫–∞–∑–∞—Ç—å** –æ—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Jupyter Notebook.
    """)

elif app_mode == "–£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è: –û—Å–Ω–æ–≤—ã —Ä–∞–±–æ—Ç—ã":
    st.header("–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞")

    st.subheader("–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 1: Hello World")
    st.markdown("–ü–µ—Ä–≤–∞—è —è—á–µ–π–∫–∞ –≤ –±–ª–æ–∫–Ω–æ—Ç–µ - –∫–æ–¥–æ–≤–∞—è. –í–≤–æ–¥–∏–º `print('Hello World!')` –∏ –Ω–∞–∂–∏–º–∞–µ–º `Ctrl+Enter`.")
    st.code('In [1]: print("Hello World!")\n\nHello World!', language='python')
    st.markdown("–ú–µ—Ç–∫–∞ `In [1]` —Å–ª–µ–≤–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ —è—á–µ–π–∫–∞ —Å –∫–æ–¥–æ–º –±—ã–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø–µ—Ä–≤–æ–π.")

    st.subheader("–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 2: –†–∞–±–æ—Ç–∞ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π")
    st.markdown("–°–æ–∑–¥–∞–µ–º –Ω–æ–≤—É—é —è—á–µ–π–∫—É –∏ –≤—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∂–¥–µ—Ç 5 —Å–µ–∫—É–Ω–¥.")
    st.code('In [*]: import time\n        time.sleep(5)', language='python')
    st.markdown("–ú–µ—Ç–∫–∞ `In [*]` –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —è—á–µ–π–∫–∞ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —è–¥—Ä–æ–º (kernel). –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–Ω–∞ –ø–æ–ª—É—á–∏—Ç —Å–≤–æ–π –ø–æ—Ä—è–¥–∫–æ–≤—ã–π –Ω–æ–º–µ—Ä, –Ω–∞–ø—Ä–∏–º–µ—Ä, `In [2]`.")

    st.subheader("–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 3: –í–æ–∑–≤—Ä–∞—Ç –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏")
    st.markdown("–Ø—á–µ–π–∫–∞ –º–æ–∂–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å—Ç—Ä–æ–∫–∏. –°–æ–∑–¥–∞–¥–∏–º –∏ –≤—ã–∑–æ–≤–µ–º —Ñ—É–Ω–∫—Ü–∏—é:")
    st.code("""In [2]: def say_hello(recipient):
                 return 'Hello, {}!'.format(recipient)
             say_hello('Tim!')

Out[2]: 'Hello, Tim!'""", language='python')
    st.markdown("–¢–µ–∫—Å—Ç `Out[2]` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã–≤–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤–µ—Ä–Ω—É–ª–∞ —è—á–µ–π–∫–∞ —Å –Ω–æ–º–µ—Ä–æ–º `2`.")

    st.subheader("–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 4: –Ø—á–µ–π–∫–∏ Markdown")
    st.markdown("Jupyter –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —è—á–µ–π–∫–∏ —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Å –ø–æ–º–æ—â—å—é —è–∑—ã–∫–∞ —Ä–∞–∑–º–µ—Ç–∫–∏ Markdown. –ù–∏–∂–µ –ø—Ä–∏–º–µ—Ä –∫–æ–¥–∞ —Ä–∞–∑–º–µ—Ç–∫–∏ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –µ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.")

    col1, col2 = st.columns(2)
    with col1:
        st.write("**–ö–æ–¥ –≤ —è—á–µ–π–∫–µ Markdown:**")
        st.code("""# –≠—Ç–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫ 1 —É—Ä–æ–≤–Ω—è
## –≠—Ç–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫ 2 —É—Ä–æ–≤–Ω—è

–≠—Ç–æ –æ–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞.
–ú–æ–∂–Ω–æ –≤—ã–¥–µ–ª–∏—Ç—å —Ç–µ–∫—Å—Ç **–∂–∏—Ä–Ω—ã–º** –∏–ª–∏ *–∫—É—Ä—Å–∏–≤–æ–º*.

- –ú–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Å–ø–∏—Å–∫–∏
- –° –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏

1. –ò –Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏
2. –¢–æ–∂–µ –º–æ–∂–Ω–æ

[–≠—Ç–æ –≥–∏–ø–µ—Ä—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∞–π—Ç Python](https://www.python.org)
""", language='markdown')
    with col2:
        st.write("**–†–µ–∑—É–ª—å—Ç–∞—Ç:**")
        st.markdown("""
        # –≠—Ç–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫ 1 —É—Ä–æ–≤–Ω—è
        ## –≠—Ç–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫ 2 —É—Ä–æ–≤–Ω—è
        –≠—Ç–æ –æ–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞.
        –ú–æ–∂–Ω–æ –≤—ã–¥–µ–ª–∏—Ç—å —Ç–µ–∫—Å—Ç **–∂–∏—Ä–Ω—ã–º** –∏–ª–∏ *–∫—É—Ä—Å–∏–≤–æ–º*.
        - –ú–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Å–ø–∏—Å–∫–∏
        - –° –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏
        1. –ò –Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ø–∏—Å–∫–∏
        2. –¢–æ–∂–µ –º–æ–∂–Ω–æ
        [–≠—Ç–æ –≥–∏–ø–µ—Ä—Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∞–π—Ç Python](https://www.python.org)
        """)

    st.subheader("–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 5: –ì—Ä–∞—Ñ–∏–∫–∏ —Å Matplotlib")
    st.markdown("Jupyter Notebook –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö. –° –ø–æ–º–æ—â—å—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `matplotlib` –º–æ–∂–Ω–æ —Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏ –ø—Ä—è–º–æ –≤ –±–ª–æ–∫–Ω–æ—Ç–µ.")
    st.code("""import matplotlib.pyplot as plt
import numpy as np

x = np.linspace(0, 10, 50)
y1 = x
y2 = x**2

plt.figure()
plt.plot(x, y1, label='y = x')
plt.plot(x, y2, label='y = x^2', linestyle='--')
plt.title("–ü—Ä–æ—Å—Ç–æ–π –≥—Ä–∞—Ñ–∏–∫ –≤ Jupyter")
plt.xlabel("–û—Å—å X")
plt.ylabel("–û—Å—å Y")
plt.legend()
plt.grid(True)
plt.show()
""")
    st.write("**–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞:**")
    x = np.linspace(0, 10, 50)
    y1 = x
    y2 = x**2
    fig, ax = plt.subplots()
    ax.plot(x, y1, label='y = x', color='cyan')
    ax.plot(x, y2, label='y = x^2', linestyle='--', color='magenta')
    ax.set_title("–ü—Ä–æ—Å—Ç–æ–π –≥—Ä–∞—Ñ–∏–∫ –≤ Jupyter")
    ax.set_xlabel("–û—Å—å X")
    ax.set_ylabel("–û—Å—å Y")
    ax.legend()
    ax.grid(True, linestyle='--', alpha=0.5)
    st.pyplot(fig)


elif app_mode == "–ó–∞–¥–∞–Ω–∏–µ 2: –ê–Ω–∞–ª–∏–∑ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤":
    st.header("–ó–∞–¥–∞–Ω–∏–µ 2: –ê–Ω–∞–ª–∏–∑ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤")
    st.info("""
    **–£—Å–ª–æ–≤–∏–µ:** –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π `n`, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –∑–∞–¥–∞—á–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–µ—à–µ–Ω–∞ –∑–∞ –≤—Ä–µ–º—è `t`.
    –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —Ä–∞–≤–Ω–æ `f(n)` –º–∏–∫—Ä–æ—Å–µ–∫—É–Ω–¥.
    """)

    times = get_time_in_microseconds()
    functions = ["lg n", "‚àön", "n", "n lg n", "n¬≤", "n¬≥", "2‚Åø", "n!"]

    # –°–æ–∑–¥–∞–µ–º DataFrame –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    df = pd.DataFrame(index=functions, columns=times.keys())

    # –ó–∞–ø–æ–ª–Ω—è–µ–º DataFrame
    for func_name in functions:
        for time_name, time_value in times.items():
            result_n = solve_for_n(func_name, time_value)
            # –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –≤—ã–≤–æ–¥–∞
            if result_n < 1e5:
                df.loc[func_name, time_name] = f"{result_n:,.0f}"
            else:
                df.loc[func_name, time_name] = f"{result_n:.2e}"


    st.subheader("–¢–∞–±–ª–∏—Ü–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ –∑–∞–¥–∞—á–∏ (n)")
    st.dataframe(df.style.set_properties(**{'background-color': '#1F222B', 'color': 'white'}), use_container_width=True)
    st.markdown("""
    *–ó–Ω–∞—á–µ–Ω–∏—è `inf` –æ–∑–Ω–∞—á–∞—é—Ç, —á—Ç–æ `n` –Ω–∞—Å—Ç–æ–ª—å–∫–æ –≤–µ–ª–∏–∫–æ, —á—Ç–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—é.
    –ó–Ω–∞—á–µ–Ω–∏—è –≤ —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –Ω–æ—Ç–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `1.23e+4`) –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ—á–µ–Ω—å –±–æ–ª—å—à–∏—Ö —á–∏—Å–µ–ª.*
    """)

    st.subheader("–ì—Ä–∞—Ñ–∏–∫–∏ —Ñ—É–Ω–∫—Ü–∏–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏")
    
    # --- –ù–ê–ß–ê–õ–û –ò–ó–ú–ï–ù–ï–ù–ò–ô ---

    # –î–∏–∞–ø–∞–∑–æ–Ω n –æ—Ç 1 –¥–æ 50
    n_values = np.linspace(1, 50, num=200)

    fig, ax = plt.subplots(figsize=(12, 8))

    # –í—ã—á–∏—Å–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π (–±–µ–∑ —Ñ–∞–∫—Ç–æ—Ä–∏–∞–ª–∞)
    with np.errstate(divide='ignore', invalid='ignore'):
        fn_values = {
            "lg n": np.log2(n_values),
            "‚àön": np.sqrt(n_values),
            "n": n_values,
            "n lg n": n_values * np.log2(n_values),
            "n¬≤": n_values**2,
            "n¬≥": n_values**3,
            "2‚Åø": 2**n_values,
        }

    # –¶–≤–µ—Ç–∞ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
    colors = plt.cm.viridis(np.linspace(0, 1, len(fn_values)))

    # –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –≥—Ä–∞—Ñ–∏–∫–∏ —Ñ—É–Ω–∫—Ü–∏–π
    for (label, y_values), color in zip(fn_values.items(), colors):
        y_plot = np.where(y_values > 0, y_values, np.nan)
        ax.plot(n_values, y_plot, label=label, color=color)
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≥—Ä–∞—Ñ–∏–∫–∞: –ª–∏–Ω–µ–π–Ω–∞—è —à–∫–∞–ª–∞ –ø–æ X, –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∞—è –ø–æ Y
    ax.set_yscale('log')
    ax.set_title('–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π —Ä–æ—Å—Ç–∞ (n –æ—Ç 1 –¥–æ 50)', fontsize=16)
    ax.set_xlabel('–†–∞–∑–º–µ—Ä –∑–∞–¥–∞—á–∏ (n)', fontsize=12)
    ax.set_ylabel('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π f(n) (–ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∞—è —à–∫–∞–ª–∞)', fontsize=12)
    ax.legend()
    ax.grid(True, which="both", ls="--", alpha=0.3)
    ax.set_xlim(0, 50)
    ax.set_ylim(bottom=1e-1)

    # --- –ö–û–ù–ï–¶ –ò–ó–ú–ï–ù–ï–ù–ò–ô ---

    st.pyplot(fig)
    st.markdown("""
    –ù–∞ –≥—Ä–∞—Ñ–∏–∫–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ **–ª–∏–Ω–µ–π–Ω–∞—è —à–∫–∞–ª–∞ –ø–æ –æ—Å–∏ X** –¥–ª—è –Ω–∞–≥–ª—è–¥–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∏–∞–ø–∞–∑–æ–Ω–∞ n –æ—Ç 1 –¥–æ 50 –∏ **–ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–∞—è —à–∫–∞–ª–∞ –ø–æ –æ—Å–∏ Y** –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π, —Ä–∞—Å—Ç—É—â–∏—Ö —Å –æ—á–µ–Ω—å —Ä–∞–∑–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é.
    –ë–ª–∞–≥–æ–¥–∞—Ä—è –ª–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–æ–π —à–∫–∞–ª–µ, –Ω–∞ –æ–¥–Ω–æ–º –≥—Ä–∞—Ñ–∏–∫–µ —É–¥–∞–ª–æ—Å—å —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –∫–∞–∫ –º–µ–¥–ª–µ–Ω–Ω–æ —Ä–∞—Å—Ç—É—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `lg n`), —Ç–∞–∫ –∏ —á—Ä–µ–∑–≤—ã—á–∞–π–Ω–æ –±—ã—Å—Ç—Ä–æ —Ä–∞—Å—Ç—É—â—É—é (`2^n`).
    """)


elif app_mode == "–ó–∞–¥–∞–Ω–∏–µ 4: –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Jupyter":
    st.header("–ó–∞–¥–∞–Ω–∏–µ 4: –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Jupyter Notebook")

    st.markdown("""
    Jupyter Notebook ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –≤–µ–±-—Å—Ä–µ–¥–∞ –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏ –æ–±–º–µ–Ω–∏–≤–∞—Ç—å—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏, —Å–æ–¥–µ—Ä–∂–∞—â–∏–º–∏ "–∂–∏–≤–æ–π" –∫–æ–¥, —É—Ä–∞–≤–Ω–µ–Ω–∏—è, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ —Å–æ–ø—Ä–æ–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç.
    """)

    st.subheader("1. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (REPL)")
    st.markdown("""
    - **–ü–æ—à–∞–≥–æ–≤–æ–µ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ:** –ö–æ–¥ –º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –≤ –Ω–µ–±–æ–ª—å—à–∏—Ö, –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –±–ª–æ–∫–∞—Ö (—è—á–µ–π–∫–∞—Ö). –≠—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –æ—Ç–ª–∞–¥–∫–∏ –∏ –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è, —Ç–∞–∫ –∫–∞–∫ –Ω–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å –≤—Å—é –ø—Ä–æ–≥—Ä–∞–º–º—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–¥–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è.
    - **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è:** –Ø–¥—Ä–æ (kernel) —Ö—Ä–∞–Ω–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –≤ –æ–¥–Ω–æ–π —è—á–µ–π–∫–µ, –¥–æ—Å—Ç—É–ø–Ω—ã –≤–æ –≤—Å–µ—Ö –ø–æ—Å–ª–µ–¥—É—é—â–∏—Ö. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ç—Ä–æ–∏—Ç—å —Å–ª–æ–∂–Ω—ã–µ —Ä–∞–±–æ—á–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã —à–∞–≥ –∑–∞ —à–∞–≥–æ–º.
    """)

    st.subheader("2. –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∫–æ–¥–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏")
    st.markdown("""
    - **–§–æ—Ä–º–∞—Ç "–≥—Ä–∞–º–æ—Ç–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è":** Jupyter –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–º–µ—à–∏–≤–∞—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π –∫–æ–¥ (Python, R, Julia –∏ –¥—Ä.) —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º (–∏—Å–ø–æ–ª—å–∑—É—è Markdown), –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ–æ—Ä–º—É–ª–∞–º–∏ (LaTeX), –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –∏ –≥—Ä–∞—Ñ–∏–∫–∞–º–∏.
    - **–í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–µ –æ—Ç—á–µ—Ç—ã:** –†–µ–∑—É–ª—å—Ç–∞—Ç–æ–º —Ä–∞–±–æ—Ç—ã —è–≤–ª—è–µ—Ç—Å—è –µ–¥–∏–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç (`.ipynb`), –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∫–æ–ª–ª–µ–≥–∞–º. –û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –∫–æ–¥, –Ω–æ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –ø–æ—è—Å–Ω–µ–Ω–∏—è, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–º –∏ –ø–æ–Ω—è—Ç–Ω—ã–º.
    """)

    st.subheader("3. –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö")
    st.markdown("""
    - **–ì—Ä–∞—Ñ–∏–∫–∏ "inline":** Jupyter –æ—Ç–ª–∏—á–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏, —Ç–∞–∫–∏–º–∏ –∫–∞–∫ Matplotlib, Seaborn, Plotly. –ì—Ä–∞—Ñ–∏–∫–∏ –∏ –¥–∏–∞–≥—Ä–∞–º–º—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –ø–æ–¥ —è—á–µ–π–∫–æ–π —Å –∫–æ–¥–æ–º, –∫–æ—Ç–æ—Ä—ã–π –∏—Ö —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª. –≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –∞–Ω–∞–ª–∏–∑ –∏ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö "–Ω–∞ –ª–µ—Ç—É".
    """)

    st.subheader("4. –®–∏—Ä–æ–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —è–∑—ã–∫–æ–≤ –∏ —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞")
    st.markdown("""
    - **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å:** –•–æ—Ç—è Python —è–≤–ª—è–µ—Ç—Å—è —Å–∞–º—ã–º –ø–æ–ø—É–ª—è—Ä–Ω—ã–º —è–∑—ã–∫–æ–º –¥–ª—è Jupyter, —Å—Ä–µ–¥–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–µ—Å—è—Ç–∫–∏ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤ —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É "—è–¥–µ—Ä" (kernels), –≤–∫–ª—é—á–∞—è R, Julia, Scala, SQL –∏ –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ.
    - **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å:** –°—É—â–µ—Å—Ç–≤—É–µ—Ç –æ–≥—Ä–æ–º–Ω–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π (nbextensions), –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–±–∞–≤–ª—è—é—Ç –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞, –ø—Ä–æ–≤–µ—Ä–∫—É –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏–∏, —Å–æ–∑–¥–∞–Ω–∏–µ –æ–≥–ª–∞–≤–ª–µ–Ω–∏–π –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.
    """)

    st.subheader("5. –õ–µ–≥–∫–æ—Å—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –æ–±–º–µ–Ω–∞")
    st.markdown("""
    - **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** Jupyter —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –±—Ä–∞—É–µ—Ä–µ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–º.
    - **–û–±–ª–∞—á–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:** –ü–ª–∞—Ç—Ñ–æ—Ä–º—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ Google Colab, Kaggle Kernels –∏ Binder, –ø–æ–∑–≤–æ–ª—è—é—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å Jupyter Notebooks –≤ –æ–±–ª–∞–∫–µ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ª–æ–∫–∞–ª—å–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç —Å–æ–≤–º–µ—Å—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É –∏ –¥–æ—Å—Ç—É–ø –∫ –º–æ—â–Ω—ã–º –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–º —Ä–µ—Å—É—Ä—Å–∞–º.
    """)